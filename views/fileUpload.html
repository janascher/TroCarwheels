<form>
    <input type="file" name="file" onchange="uploadFile()" />
</form>

<script>
    const uploadFile = () => {
        const formData = new FormData();
        const fileField = document.querySelector('input[type="file"]');
        formData.append("file", fileField.files[0]);
        fetch('http://192.168.15.15:8000/api/miniatures/upload/3',{
            method: 'POST',
            headers: {Authorization: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InJvZ2VyaW85QGdtYWlsLmNvbSIsIm5pY2siOiJyb2dlcmlvIiwibmFtZSI6IlJvZ8OpcmlvOSJ9LCJpYXQiOjE2NjQ0OTI3NzAsImV4cCI6MTY2NDQ5NDU3MH0.d7qC1R61MIgNx1haJTJLD0IRZRdyL-yse2BWUDzB3bw"},
            body: formData
        }).then (response => {
            console.log(response)
        })
        
    }
</script>